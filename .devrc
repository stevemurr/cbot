#!/usr/bin/zsh

loadConfig() {
    for k in $(jq -r '. | keys | .[]' local/config.json); do
        v=$(jq -r ".[\"$k\"]" local/config.json);
        export $k=$v
    done
}

clean() {
    if [[ -d "dist" ]]; then
        rm -rf "dist"
    fi
}

run() {
    loadConfig
    go run ./cmd/main.go
}

generateReadme() {

}

build() {
    loadConfig
    clean
    mkdir dist
    go build ./cmd/main.go 
    mv main dist
}
